
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>random &#8211; 疑似乱数の生成 - Python Module of the Week</title>

<link rel="stylesheet" href="../_static/default.css" 
    type="text/css" />
<style>
    body {
        margin: 8px;
    }
    .highlight {
        background-color: white;
        border: 0;
    }
    .highlight pre {
        background-color: white;
    }
</style>

<link href="../_static/css/leaves.css" rel="stylesheet" type="text/css" />
<link rel="alternate" type="application/atom+xml"
      title="Doug Hellmann"
      href="http://feeds.feedburner.com/DougHellmann" />
<link rel="alternate" type="application/atom+xml"
      title="Doug Hellmann Project Releases"
      href="http://feeds.feedburner.com/DougHellmann-Releases" />
<link rel="alternate" type="application/atom+xml"
      title="Doug Hellmann Links"
      href="http://feeds.feedburner.com/DougHellmannLinkBlog" />



<script type="text/javascript">
  var DOCUMENTATION_OPTIONS = {
      URL_ROOT:    '../',
      VERSION:     '1.132',
      COLLAPSE_MODINDEX: false,
      FILE_SUFFIX: '.html'
  };
</script>

<script type="text/javascript" src="../_static/jquery.js"></script>
<script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="author" title="このドキュメントについて" href="../about.html" />
    <link rel="contents" title="コンテンツテーブル" href="../contents.html" />
    <link rel="index" title="インデックス" href="../genindex.html" />
    <link rel="top" title="Python Module of the Week" href="../index.html" />
    <link rel="up" title="数値や数学に関するモジュール" href="../numeric.html" />
    <link rel="next" title="インターネットデータ操作" href="../internet_data.html" />
    <link rel="prev" title="operator – ビルトイン演算子に対する関数インタフェース" href="../operator/index.html" />

<meta name="verify-v1" content="5saTcOa2HLac4V85yUg3SARfun1PqT5Upu7IR/6fpv4="/>
</head>
<body>
    
<div id="container">
    
<div id="header">
  <a href="/"><h1>PyMOTW</h1></a>
  <p></p>
</div>

<div id="sidebar_left_wrapper">

<div id="navigation"> 
	<ul id="navlist">
		<li><a href="../index.html">ホーム</a></li>
		<li><a href="http://blog.doughellmann.com/" target="_">ブログ</a></li>
        <li><a href="http://www.doughellmann.com/books/">書籍</a></li>
		<li><a href="../about.html">自己紹介</a></li>
		<li><a href="/2/genindex.html">サイトインデックス</a></li>
	</ul>
</div>


  <div id="sidebar_left">
      <p>この情報が役に立つと思われたら、私の本を手に取ってみてください。
      <i><a href="/books/byexample/">The Python Standard Library By
      Example</a></i>.</p>
  </div>

</div>


<div id="sidebar">
  <h3>ページコンテンツ</h3>
  <ul>
<li><a class="reference internal" href="#">random &#8211; 疑似乱数の生成</a><ul>
<li><a class="reference internal" href="#id1">乱数の生成</a></li>
<li><a class="reference internal" href="#id2">シード (種)</a></li>
<li><a class="reference internal" href="#id3">状態を保存する</a></li>
<li><a class="reference internal" href="#id4">ランダムな整数</a></li>
<li><a class="reference internal" href="#id5">ランダムな要素を選ぶ</a></li>
<li><a class="reference internal" href="#id6">順列</a></li>
<li><a class="reference internal" href="#id7">同時に複数生成する</a></li>
<li><a class="reference internal" href="#systemrandom">SystemRandom</a></li>
<li><a class="reference internal" href="#id8">不均一分布</a><ul>
<li><a class="reference internal" href="#id9">正規分布</a></li>
<li><a class="reference internal" href="#id10">近似</a></li>
<li><a class="reference internal" href="#id11">指数関数</a></li>
<li><a class="reference internal" href="#id12">角度</a></li>
<li><a class="reference internal" href="#id13">サイズ</a></li>
</ul>
</li>
</ul>
</li>
</ul>
    <h3>ナビゲーション</h3>
      <p>
    <a href="../contents.html"><strong>コンテンツテーブル</strong></a><br/>
    
          <a href="../operator/index.html" title="前の章へ"><strong>前:</strong> operator &#8211; ビルトイン演算子に対する関数インタフェース</a><br/>
          <a href="../internet_data.html" title="次の章へ"><strong>次:</strong> インターネットデータ操作</a><br/>
      </p>
    
      <h3>This Page</h3>
      <p>
      <a href="../_sources/random/index.txt"
               rel="nofollow">Show Source</a>
      </p><h3>サンプルプログラム</h3>

<p>PyMOTW の全てのサンプルプログラムの出力は、
注記されていない限りは Python 2.7.2 で生成されています。
標準ライブラリの初期のバージョンでは利用できない機能も紹介している
可能性があります。</p><p><iframe src="http://rcm.amazon.com/e/cm?lt1=_blank&bc1=000000&IS2=1&bg1=DDDDDD&fc1=000000&lc1=CC6714&t=hellflynet-20&o=1&p=8&l=as1&m=amazon&f=ifr&md=10FE9736YVPPT7A0FBG2&asins=0321767349" style="width:120px;height:240px;margin:0 1em 0 1em;" scrolling="no" frameborder="0"></iframe></p>    <p class="ads">
    <script type="text/javascript"><!--
    google_ad_client = "pub-3205160560229413";
    google_ad_width = 120;
    google_ad_height = 600;
    google_ad_format = "120x600_as";
    google_ad_type = "text";
    //2007-10-27: www.doughellmann.com
    google_ad_channel = "0828653884";
    google_color_border = "FFFFFF";
    google_color_bg = "FFFFFF";
    google_color_link = "CC6714";
    google_color_text = "000000";
    google_color_url = "999999";
    google_ui_features = "rc:0";
    //-->
    </script>
    <script type="text/javascript"
      src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
    </script>
    </p>
</div>


<div id="content">

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../internet_data.html" title="インターネットデータ操作"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../operator/index.html" title="operator – ビルトイン演算子に対する関数インタフェース"
             accesskey="P">previous</a> |</li>
        <li><a href="../contents.html">PyMOTW</a> &raquo;</li>
          <li><a href="../numeric.html" accesskey="U">数値や数学に関するモジュール</a> &raquo;</li> 
      </ul>
    </div>

  <div class="section" id="random">
<h1>random &#8211; 疑似乱数の生成<a class="headerlink" href="#random" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-random"></span><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">目的:</th><td class="field-body">数種類の疑似乱数ジェネレータを提供する</td>
</tr>
<tr class="field"><th class="field-name">利用できるバージョン:</th><td class="field-body">1.4 以上</td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="#module-random" title="疑似乱数の生成"><tt class="xref py py-mod docutils literal"><span class="pre">random</span></tt></a> モジュールは、 <em>Mersenne Twister</em> アルゴリズムに基づく高速な擬似乱数ジェネレータを提供します。もともとはモンテカルロシミュレーションの入力値を生成するために開発された Mersenne Twister は、周期が長く、広範囲なアプリケーションに適した連続一様分布の数値を生成します。</p>
<div class="section" id="id1">
<h2>乱数の生成<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p><tt class="xref py py-func docutils literal"><span class="pre">random()</span></tt> 関数は、生成されたシーケンスから次のランダムな浮動小数点数の値を返します。返り値の範囲は <tt class="docutils literal"><span class="pre">0</span> <span class="pre">&lt;=</span> <span class="pre">n</span> <span class="pre">&lt;</span> <span class="pre">1.0</span></tt> になります。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">random</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&#39;</span><span class="si">%04.3f</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
</pre></div>
</div>
<p>このプログラムを繰り返し実行すると、別の数値のシーケンスを生成します。</p>
<div class="highlight-python"><pre>$ python random_random.py
0.688
0.096
0.717
0.924
0.329

$ python random_random.py
0.713
0.489
0.777
0.272
0.518</pre>
</div>
<p>特定の範囲内の数値を生成するには <tt class="xref py py-func docutils literal"><span class="pre">uniform()</span></tt> を使用してください。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">random</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&#39;</span><span class="si">%04.3f</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<p><tt class="xref py py-func docutils literal"><span class="pre">uniform()</span></tt> に最小値と最大値を渡すと、 <tt class="xref py py-func docutils literal"><span class="pre">random()</span></tt> からの返り値を <tt class="docutils literal"><span class="pre">min</span> <span class="pre">+</span> <span class="pre">(max</span> <span class="pre">-</span> <span class="pre">min)</span> <span class="pre">*</span> <span class="pre">random()</span></tt> の数式で計算します。</p>
<div class="highlight-python"><pre>$ python random_uniform.py
26.088
91.760
48.956
93.644
21.449</pre>
</div>
</div>
<div class="section" id="id2">
<h2>シード (種)<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p><tt class="xref py py-func docutils literal"><span class="pre">random()</span></tt> は呼び出される毎に違う値を生成し、任意の数が繰り返されるのにかなり長い周期があります。これは一意な値、またはそれに近い値を生成するには便利ですが、別の方法で処理するのに同じデータセットを利用できると便利なときもあります。1つのテクニックとしては、乱数を生成して、別の方法で処理されるように保存するプログラムを利用することです。しかし、このテクニックは巨大なデータに関しては実用的ではないかもしれません。そのため、 <a class="reference internal" href="#module-random" title="疑似乱数の生成"><tt class="xref py py-mod docutils literal"><span class="pre">random</span></tt></a> は、予想される値セットを生成するために、疑似乱数ジェネレータを初期化する <tt class="xref py py-func docutils literal"><span class="pre">seed()</span></tt> を提供します。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">random</span>

<span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&#39;</span><span class="si">%04.3f</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
</pre></div>
</div>
<p>シードの値は、擬似乱数を生成するために使用される数式によって生成された最初の値を制御します。その数式は決定性なので、シードが変更された後で生成された完全なシーケンスもセットします。 <tt class="xref py py-func docutils literal"><span class="pre">seed()</span></tt> の引数は、ハッシュ化できる任意のオブジェクトです。デフォルトでは、プラットフォーム固有な乱数のソースが利用できるのなら、それを使用します。それ以外の場合は現在時刻が使用されます。</p>
<div class="highlight-python"><pre>$ python random_seed.py
0.134
0.847
0.764
0.255
0.495

$ python random_seed.py
0.134
0.847
0.764
0.255
0.495</pre>
</div>
</div>
<div class="section" id="id3">
<h2>状態を保存する<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>数値のシーケンスを制御するのに便利なもう1つのテクニックは、テスト実行間の乱数ジェネレータの内部状態を保存することです。処理を継続する前にその前の状態を復元することで、初期の入力値からの数値、または数値のシーケンスが繰り返される可能性が低くなります。 <tt class="xref py py-func docutils literal"><span class="pre">getstate()</span></tt> 関数は、次の実行時に <tt class="xref py py-func docutils literal"><span class="pre">setstate()</span></tt> で乱数ジェネレータを再初期化するデータを返します。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">cPickle</span> <span class="kn">as</span> <span class="nn">pickle</span>

<span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s">&#39;state.dat&#39;</span><span class="p">):</span>
    <span class="c"># 以前に保存された状態を復元する</span>
    <span class="k">print</span> <span class="s">&#39;Found state.dat, initializing random module&#39;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;state.dat&#39;</span><span class="p">,</span> <span class="s">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">state</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="n">random</span><span class="o">.</span><span class="n">setstate</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c"># 良く知られた開始状態を使用する</span>
    <span class="k">print</span> <span class="s">&#39;No state.dat, seeding&#39;</span>
    <span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c"># 乱数を生成する</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&#39;</span><span class="si">%04.3f</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>

<span class="c"># 次回のために状態を保存する</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;state.dat&#39;</span><span class="p">,</span> <span class="s">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">getstate</span><span class="p">(),</span> <span class="n">f</span><span class="p">)</span>

<span class="c"># さらに乱数を生成する</span>
<span class="k">print</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">After saving state:&#39;</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&#39;</span><span class="si">%04.3f</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
</pre></div>
</div>
<p><tt class="xref py py-func docutils literal"><span class="pre">getstate()</span></tt> が返すデータは実装の詳細なので、このサンプルは <a class="reference internal" href="../pickle/index.html#module-pickle" title="Python オブジェクトシリアライゼーション"><tt class="xref py py-mod docutils literal"><span class="pre">pickle</span></tt></a> で変換してファイルにそのデータを保存します。それ以外の場合は、そのデータをブラックボックスとして扱います。プログラムの開始時にそのデータを保存したファイルが存在するなら、以前の古い状態を読み込んで処理を継続します。その状態を保存する前後でそれぞれ数回実行することで、状態を復元させるとその乱数ジェネレータは同じ値を生成することが分かります。</p>
<div class="highlight-python"><pre>$ python random_state.py
No state.dat, seeding
0.134
0.847
0.764

After saving state:
0.255
0.495
0.449

$ python random_state.py
Found state.dat, initializing random module
0.255
0.495
0.449

After saving state:
0.652
0.789
0.094</pre>
</div>
</div>
<div class="section" id="id4">
<h2>ランダムな整数<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p><tt class="xref py py-func docutils literal"><span class="pre">random()</span></tt> は、浮動小数点数の数値を生成します。その結果を整数に変換するのも可能ですが、 <tt class="xref py py-func docutils literal"><span class="pre">randint()</span></tt> 関数を直接使用する方がもっと便利です。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">random</span>

<span class="k">print</span> <span class="s">&#39;[1, 100]:&#39;</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="k">print</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>

<span class="k">print</span>
<span class="k">print</span> <span class="s">&#39;[-5, 5]:&#39;</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="k">print</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<p><tt class="xref py py-func docutils literal"><span class="pre">randint()</span></tt> の引数は、値が取りうる範囲の両端の値です。その引数は、正負どちらの数も受け取れますが、第一引数は第二引数より小さい必要があります。</p>
<div class="highlight-python"><pre>$ python random_randint.py
[1, 100]:
35
41
53

[-5, 5]:
3
3
3</pre>
</div>
<p><tt class="xref py py-func docutils literal"><span class="pre">randrange()</span></tt> は、ある範囲から数値を選択する汎用的な関数です。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">random</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="k">print</span> <span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<p><tt class="xref py py-func docutils literal"><span class="pre">randrange()</span></tt> は、start と stop の引数に加えて <em>step</em> 引数もサポートします。そのため、 <tt class="docutils literal"><span class="pre">range(start,</span> <span class="pre">stop,</span> <span class="pre">step)</span></tt> から乱数を選択しているのと完全に等価です。この範囲は、実際には構築されないので、かなり効率的です。</p>
<div class="highlight-python"><pre>$ python random_randrange.py
95
5
10</pre>
</div>
</div>
<div class="section" id="id5">
<h2>ランダムな要素を選ぶ<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p>乱数ジェネレータの一般的な用途の1つは、数字でなくても、列挙型のシーケンスからランダムな要素を選択することです。 <a class="reference internal" href="#module-random" title="疑似乱数の生成"><tt class="xref py py-mod docutils literal"><span class="pre">random</span></tt></a> は、シーケンスからランダムに選択する <tt class="xref py py-func docutils literal"><span class="pre">choice()</span></tt> 関数を提供します。このサンプルは、10,000 回コインを投げて、何回、表 (head) と裏 (tail) が出たかを数えるシミュレーションです。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">itertools</span>

<span class="n">outcomes</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&#39;heads&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
             <span class="s">&#39;tails&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
             <span class="p">}</span>
<span class="n">sides</span> <span class="o">=</span> <span class="n">outcomes</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">):</span>
    <span class="n">outcomes</span><span class="p">[</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">sides</span><span class="p">)</span> <span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="k">print</span> <span class="s">&#39;Heads:&#39;</span><span class="p">,</span> <span class="n">outcomes</span><span class="p">[</span><span class="s">&#39;heads&#39;</span><span class="p">]</span>
<span class="k">print</span> <span class="s">&#39;Tails:&#39;</span><span class="p">,</span> <span class="n">outcomes</span><span class="p">[</span><span class="s">&#39;tails&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>返り値は2つだけなので、数値を使用するよりも、 <tt class="xref py py-func docutils literal"><span class="pre">choice()</span></tt> を用いて &#8220;heads&#8221; と &#8220;tails&#8221; という単語を数値に変換します。この結果は、outcomes ディクショナリのキーの名前を使用してカウントされます。</p>
<div class="highlight-python"><pre>$ python random_choice.py
Heads: 4949
Tails: 5051</pre>
</div>
</div>
<div class="section" id="id6">
<h2>順列<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<p>カードゲームのシミュレーションは、カードのデッキを必ず混ぜ合わせてから、同じカードを2回使用しないようにプレイヤーへカードを &#8220;配ります&#8221; 。 <tt class="xref py py-func docutils literal"><span class="pre">choice()</span></tt> を使用すると、同じカードを2回配ってしまいます。そのため、代わりにデッキを <tt class="xref py py-func docutils literal"><span class="pre">shuffle()</span></tt> で混ぜ合わせてから、カードを配るときにそのカードを削除します。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">itertools</span>

<span class="k">def</span> <span class="nf">new_deck</span><span class="p">():</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">product</span><span class="p">(</span>
            <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span><span class="nb">xrange</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;J&#39;</span><span class="p">,</span> <span class="s">&#39;Q&#39;</span><span class="p">,</span> <span class="s">&#39;K&#39;</span><span class="p">,</span> <span class="s">&#39;A&#39;</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">&#39;H&#39;</span><span class="p">,</span> <span class="s">&#39;D&#39;</span><span class="p">,</span> <span class="s">&#39;C&#39;</span><span class="p">,</span> <span class="s">&#39;S&#39;</span><span class="p">),</span>
            <span class="p">))</span>

<span class="k">def</span> <span class="nf">show_deck</span><span class="p">(</span><span class="n">deck</span><span class="p">):</span>
    <span class="n">p_deck</span> <span class="o">=</span> <span class="n">deck</span><span class="p">[:]</span>
    <span class="k">while</span> <span class="n">p_deck</span><span class="p">:</span>
        <span class="n">row</span> <span class="o">=</span> <span class="n">p_deck</span><span class="p">[:</span><span class="mi">13</span><span class="p">]</span>
        <span class="n">p_deck</span> <span class="o">=</span> <span class="n">p_deck</span><span class="p">[</span><span class="mi">13</span><span class="p">:]</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">row</span><span class="p">:</span>
            <span class="k">print</span> <span class="s">&#39;</span><span class="si">%2s%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">j</span><span class="p">,</span>
        <span class="k">print</span>

<span class="c"># カードが順番に並んだ新しいデッキを取得する</span>
<span class="n">deck</span> <span class="o">=</span> <span class="n">new_deck</span><span class="p">()</span>
<span class="k">print</span> <span class="s">&#39;Initial deck:&#39;</span>
<span class="n">show_deck</span><span class="p">(</span><span class="n">deck</span><span class="p">)</span>

<span class="c"># ランダムな順番にカードをシャッフルする</span>
<span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">deck</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">Shuffled deck:&#39;</span>
<span class="n">show_deck</span><span class="p">(</span><span class="n">deck</span><span class="p">)</span>

<span class="c"># 5つのカードのうち4つを配る</span>
<span class="n">hands</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[]</span> <span class="p">]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">hands</span><span class="p">:</span>
        <span class="n">h</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">deck</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span>

<span class="c"># 手札のカードを表示する</span>
<span class="k">print</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">Hands:&#39;</span>
<span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">h</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">hands</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&#39;</span><span class="si">%d</span><span class="s">:&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">h</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">&#39;</span><span class="si">%2s%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">c</span><span class="p">,</span>
    <span class="k">print</span>
    
<span class="c"># デッキに残っているカードを表示する</span>
<span class="k">print</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">Remaining deck:&#39;</span>
<span class="n">show_deck</span><span class="p">(</span><span class="n">deck</span><span class="p">)</span>
</pre></div>
</div>
<p>カードは数とそのスート (マーク) を指す文字を含むタプルとして表現されます。配られた &#8220;手札&#8221; は、デッキから同じカードが2回配られないように削除すると同時に、それぞれ4種類のリストへ追加することで作成されます。</p>
<div class="highlight-python"><pre>$ python random_shuffle.py
Initial deck:
 2H  2D  2C  2S  3H  3D  3C  3S  4H  4D  4C  4S  5H
 5D  5C  5S  6H  6D  6C  6S  7H  7D  7C  7S  8H  8D
 8C  8S  9H  9D  9C  9S 10H 10D 10C 10S  JH  JD  JC
 JS  QH  QD  QC  QS  KH  KD  KC  KS  AH  AD  AC  AS

Shuffled deck:
 2D  3H  KD  2H  8D  8C  QS  5H  KC  7H  AD  AH  7S
 4S  9H  7D  JD  6C  5D 10S  9S 10C  4D  6S  JS  KH
 5C  3D 10H  4H  4C  2S  QH  6D  AS  7C  KS  JH  6H
 JC  8H  9D  9C  3S  AC  5S  2C  QD 10D  3C  QC  8S

Hands:
1:  8S  QD  3S  JC  7C
2:  QC  2C  9C  6H  AS
3:  3C  5S  9D  JH  6D
4: 10D  AC  8H  KS  QH

Remaining deck:
 2D  3H  KD  2H  8D  8C  QS  5H  KC  7H  AD  AH  7S
 4S  9H  7D  JD  6C  5D 10S  9S 10C  4D  6S  JS  KH
 5C  3D 10H  4H  4C  2S</pre>
</div>
<p>多くのシミュレーションは、入力値の母集団からのランダム・サンプルを必要とします。 <tt class="xref py py-func docutils literal"><span class="pre">sample()</span></tt> 関数は、入力値のシーケンスを変更せず、取り出した値を繰り返さずにサンプル値を生成します。このサンプルは、システム辞書から単語のランダム・サンプルを表示します。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">random</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;/usr/share/dict/words&#39;</span><span class="p">,</span> <span class="s">&#39;rt&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">words</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<span class="n">words</span> <span class="o">=</span> <span class="p">[</span> <span class="n">w</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">words</span> <span class="p">]</span>

<span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">words</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
    <span class="k">print</span> <span class="n">w</span>
    
</pre></div>
</div>
<p>結果セットを生成するためのアルゴリズムは、その入力値のサイズを考慮して、できるだけ効率的に結果を生成するようにサンプル値を指定しました。</p>
<div class="highlight-python"><pre>$ python random_sample.py

pleasureman
consequency
docibility
youdendrift
Ituraean

$ python random_sample.py

jigamaree
readingdom
sporidium
pansylike
foraminiferan</pre>
</div>
</div>
<div class="section" id="id7">
<h2>同時に複数生成する<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<p>モジュールレベルの関数に加え、 <a class="reference internal" href="#module-random" title="疑似乱数の生成"><tt class="xref py py-mod docutils literal"><span class="pre">random</span></tt></a> は、複数の乱数ジェネレータのために内部状態を管理する <tt class="xref py py-class docutils literal"><span class="pre">Random</span></tt> クラスも提供します。これまでに説明した全ての関数は、 <tt class="xref py py-class docutils literal"><span class="pre">Random</span></tt> インスタンスのメソッドとして利用できます。そして、それぞれのインスタンスは、他のインスタンスが返す値に影響を受けずに個別に初期化して使用できます。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="k">print</span> <span class="s">&#39;Default initializiation:</span><span class="se">\n</span><span class="s">&#39;</span>

<span class="n">r1</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">Random</span><span class="p">()</span>
<span class="n">r2</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">Random</span><span class="p">()</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&#39;</span><span class="si">%04.3f</span><span class="s">  </span><span class="si">%04.3f</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">r1</span><span class="o">.</span><span class="n">random</span><span class="p">(),</span> <span class="n">r2</span><span class="o">.</span><span class="n">random</span><span class="p">())</span>

<span class="k">print</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">Same seed:</span><span class="se">\n</span><span class="s">&#39;</span>

<span class="n">seed</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">r1</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">Random</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
<span class="n">r2</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">Random</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&#39;</span><span class="si">%04.3f</span><span class="s">  </span><span class="si">%04.3f</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">r1</span><span class="o">.</span><span class="n">random</span><span class="p">(),</span> <span class="n">r2</span><span class="o">.</span><span class="n">random</span><span class="p">())</span>
</pre></div>
</div>
<p>ネイティブな乱数のシードをもつシステムでは、そのインスタンスが一意な状態を保持して利用されます。しかし、プラットフォームに適切な乱数のシードがない場合、そのインスタンスは現在時刻でシードの値を生成しているので、同じ値を生成します。</p>
<div class="highlight-python"><pre>$ python random_random_class.py
Default initializiation:

0.697  0.425
0.128  0.093
0.188  0.009

Same seed:

0.571  0.571
0.054  0.054
0.620  0.620</pre>
</div>
<p>乱数ジェネレータがランダムな周期の別の部分から値を生成するのを保証するには、その初期状態を変更する <tt class="xref py py-func docutils literal"><span class="pre">jumpahead()</span></tt> を使用してください。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="n">r1</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">Random</span><span class="p">()</span>
<span class="n">r2</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">Random</span><span class="p">()</span>

<span class="c"># r1 から r2 を強制的に別の乱数周期にする</span>
<span class="n">r2</span><span class="o">.</span><span class="n">setstate</span><span class="p">(</span><span class="n">r1</span><span class="o">.</span><span class="n">getstate</span><span class="p">())</span>
<span class="n">r2</span><span class="o">.</span><span class="n">jumpahead</span><span class="p">(</span><span class="mi">1024</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&#39;</span><span class="si">%04.3f</span><span class="s">  </span><span class="si">%04.3f</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">r1</span><span class="o">.</span><span class="n">random</span><span class="p">(),</span> <span class="n">r2</span><span class="o">.</span><span class="n">random</span><span class="p">())</span>
</pre></div>
</div>
<p><tt class="xref py py-func docutils literal"><span class="pre">jumpahead()</span></tt> の引数は、それぞれの乱数ジェネレータから必要な数値に基づく正の整数にします。乱数ジェネレータの内部状態は、その入力値に基づいて混ぜられますが、引数に渡された値から入力値を増加させるという単純なものではありません。</p>
<div class="highlight-python"><pre>$ python random_jumpahead.py
0.064  0.903
0.930  0.790
0.325  0.815</pre>
</div>
</div>
<div class="section" id="systemrandom">
<h2>SystemRandom<a class="headerlink" href="#systemrandom" title="Permalink to this headline">¶</a></h2>
<p>一部のオペレーティングシステムは、乱数ジェネレータ内部に導入されるエントロピーのより多くのソースにアクセスする乱数ジェネレータを提供します。 <a class="reference internal" href="#module-random" title="疑似乱数の生成"><tt class="xref py py-mod docutils literal"><span class="pre">random</span></tt></a> は、 <tt class="xref py py-class docutils literal"><span class="pre">Random</span></tt> と同じ API を持つ <tt class="xref py py-class docutils literal"><span class="pre">SystemRandom</span></tt> クラスを通して、この機能を公開します。しかし、その他の全てアルゴリズムの基本となる値を生成するには <tt class="xref py py-func docutils literal"><span class="pre">os.urandom()</span></tt> を使用します。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="k">print</span> <span class="s">&#39;Default initializiation:</span><span class="se">\n</span><span class="s">&#39;</span>

<span class="n">r1</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">SystemRandom</span><span class="p">()</span>
<span class="n">r2</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">SystemRandom</span><span class="p">()</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&#39;</span><span class="si">%04.3f</span><span class="s">  </span><span class="si">%04.3f</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">r1</span><span class="o">.</span><span class="n">random</span><span class="p">(),</span> <span class="n">r2</span><span class="o">.</span><span class="n">random</span><span class="p">())</span>

<span class="k">print</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">Same seed:</span><span class="se">\n</span><span class="s">&#39;</span>

<span class="n">seed</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">r1</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">SystemRandom</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
<span class="n">r2</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">SystemRandom</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&#39;</span><span class="si">%04.3f</span><span class="s">  </span><span class="si">%04.3f</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">r1</span><span class="o">.</span><span class="n">random</span><span class="p">(),</span> <span class="n">r2</span><span class="o">.</span><span class="n">random</span><span class="p">())</span>
</pre></div>
</div>
<p><tt class="xref py py-class docutils literal"><span class="pre">SystemRandom</span></tt> が生成するシーケンスを再現できない理由は、その乱数がソフトウェアの状態というよりもそのシステムからきているからです (実際に <tt class="xref py py-func docutils literal"><span class="pre">seed()</span></tt> と <tt class="xref py py-func docutils literal"><span class="pre">setstate()</span></tt> は全く影響を受けません) 。</p>
<div class="highlight-python"><pre>$ python random_system_random.py
Default initializiation:

0.590  0.867
0.069  0.935
0.640  0.052

Same seed:

0.560  0.701
0.926  0.808
0.068  0.465</pre>
</div>
</div>
<div class="section" id="id8">
<h2>不均一分布<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<p><tt class="xref py py-func docutils literal"><span class="pre">random()</span></tt> が生成する値の連続一様分布は多くの用途に便利ではあるものの、その他に特定の状況により正確なモデルもあります。 <a class="reference internal" href="#module-random" title="疑似乱数の生成"><tt class="xref py py-mod docutils literal"><span class="pre">random</span></tt></a> モジュールは、そういった分布の値を生成する関数も提供します。ここで紹介しますが、その詳細については、より複雑なサンプルを必要とし、その用途が特化されたものなので説明しません。</p>
<div class="section" id="id9">
<h3>正規分布<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p><em>正規</em> 分布は、一般的に非一様な連続性をもつ成績、身長、体重といった値に使用されます。分布曲線は、独特の形状をもち、通称 &#8220;ベルカーブ&#8221; と呼ばれます。 <a class="reference internal" href="#module-random" title="疑似乱数の生成"><tt class="xref py py-mod docutils literal"><span class="pre">random</span></tt></a> は、正規分布の値を生成する2つの関数 <tt class="xref py py-func docutils literal"><span class="pre">normalvariate()</span></tt> と わずかに高速な <tt class="xref py py-func docutils literal"><span class="pre">gauss()</span></tt> を提供します (正規分布はガウス分布とも呼ばれる) 。</p>
<p>関連する関数 <tt class="xref py py-func docutils literal"><span class="pre">lognormvariate()</span></tt> は、正規分布の値の対数で疑似乱数を生成します。対数正規分布は、お互いに影響しない複数の乱数を集めた値に便利です。</p>
</div>
<div class="section" id="id10">
<h3>近似<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<p><em>三角</em> 分布は、小さなサンプルサイズの近似分布として使用されます。三角分布の &#8220;曲線&#8221; は、最小値と最大値の低位置の座標、高位置の座標、そのモードをもちます。そのモードは &#8220;最も近い&#8221; 結果 (<tt class="xref py py-func docutils literal"><span class="pre">triangular()</span></tt> のモードの引数で反映される) に基づいて見積もられます。</p>
</div>
<div class="section" id="id11">
<h3>指数関数<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<p><tt class="xref py py-func docutils literal"><span class="pre">expovariate()</span></tt> は、Web サーバへ到着するリクエストや放射線減衰率といったポアソン分布のために、到着するものや間隔の時間の値に便利です。</p>
<p>パレート、またはべき乗則の分布は多くの実際に目に見える現象と一致し、Chris Anderon の著書 <em>ロングテール</em> で広まりました。 <tt class="xref py py-func docutils literal"><span class="pre">paretovariate()</span></tt> 関数は、目に見えないリソース (人々の豊かさ、音楽家の需要、ブログへのこだわりなど) を割り当てるシミュレーションに便利です。</p>
</div>
<div class="section" id="id12">
<h3>角度<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<p>(<tt class="xref py py-func docutils literal"><span class="pre">vonmisesvariate()</span></tt> で生成される) フォン・ミーゼス分布、または円周上の正規分布は、角度、カレンダーの日付、時間といった周期的な確率を計算するのに使用されます。</p>
</div>
<div class="section" id="id13">
<h3>サイズ<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<p><tt class="xref py py-func docutils literal"><span class="pre">betavariate()</span></tt> は、モデリング間のタスクといったアプリケーションや一般的にベイズ統計で利用されるベータ分布の値を生成します。</p>
<p><tt class="xref py py-func docutils literal"><span class="pre">gammavariate()</span></tt> が生成するガンマ分布は、待ち時間、降雨量、計算エラーといったサイズをモデリングするために使用されます。</p>
<p><tt class="xref py py-func docutils literal"><span class="pre">weibullvariate()</span></tt> が生成するワイブル分布は、不良解析、工業エンジニアリング、天気予報に使用されます。これは粒子または離散物体のサイズの分布を説明します。</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference external" href="http://docs.python.org/library/random.html">random</a></dt>
<dd>本モジュールの標準ライブラリドキュメント</dd>
<dt>Mersenne Twister: A 623-dimensionally equidistributed uniform pseudorandom number generator</dt>
<dd>松本眞氏と西村拓士氏の論文 <em>ACM Transactions on Modeling and Computer Simulation</em> Vol. 8, No. 1, January pp.3-30 1998</dd>
<dt><a class="reference external" href="http://en.wikipedia.org/wiki/Mersenne_twister">Wikipedia: Mersenne Twister</a></dt>
<dd>Python で利用できる疑似乱数生成に関する記事</dd>
<dt><a class="reference external" href="http://en.wikipedia.org/wiki/Uniform_distribution_(continuous)">Wikipedia: Uniform distribution</a></dt>
<dd>統計における連続一様分布に関する記事</dd>
</dl>
</div>
</div>
</div>
</div>


    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../internet_data.html" title="インターネットデータ操作"
             >next</a> |</li>
        <li class="right" >
          <a href="../operator/index.html" title="operator – ビルトイン演算子に対する関数インタフェース"
             >previous</a> |</li>
        <li><a href="../contents.html">PyMOTW</a> &raquo;</li>
          <li><a href="../numeric.html" >数値や数学に関するモジュール</a> &raquo;</li> 
      </ul>
    </div>



<div id="addthis"><a href="http://www.addthis.com/bookmark.php" onclick="addthis_url   = location.href; addthis_title = document.title; return addthis_click(this);" target="_blank"><img src="http://s7.addthis.com/static/btn/lg-share-en.gif" width="125" height="16" border="0" alt="Bookmark and Share" /></a><script type="text/javascript">var addthis_pub = "dhellmann";</script><script type="text/javascript" src="http://s7.addthis.com/js/widget.php?v=10"></script></div>



<!-- Disqus -->
<div id="disqus_wrapper">
<div id="disqus_thread"></div><script type="text/javascript" src="http://disqus.com/forums/doughellmann/embed.js"></script><noscript><a href="http://doughellmann.disqus.com/?url=ref">View the discussion thread.</a></noscript><a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

</div>

<div id="footer_ads">

    <p><script type="text/javascript"><!--
    google_ad_client = "pub-3205160560229413";
    google_ad_width = 728;
    google_ad_height = 90;
    google_ad_format = "728x90_as";
    google_ad_type = "text";
    //2007-10-21: www.doughellmann.com
    google_ad_channel = "9907726884";
    google_color_border = "FFFFFF";
    google_color_bg = "FFFFFF";
    google_color_link = "CC6714";
    google_color_text = "000000";
    google_color_url = "999999";
    google_ui_features = "rc:0";
    //-->
    </script>
    <script type="text/javascript"
      src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
    </script></p>
</div>

<div id="footer">
 
<p>
    &copy; Copyright Doug Hellmann.
    | <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/us/" rel="license"><img alt="Creative Commons License" style="border-width:0; align: center;" width="80" height="15" src="http://i.creativecommons.org/l/by-nc-sa/3.0/us/80x15.png"/></a>
    | Last updated on Feb 17, 2013.
   | Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
   | Design based on "Leaves" by <a href="http://smallpark.org">SmallPark</a>
</p>
   
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript" />
<script type="text/javascript">
  _uacct = "UA-1847381-1";
  urchinTracker();
</script>

</div>

</div>


<!-- Disqus -->
<script type="text/javascript">
//<![CDATA[
(function() {
		var links = document.getElementsByTagName('a');
		var query = '?';
		for(var i = 0; i < links.length; i++) {
			if(links[i].href.indexOf('#disqus_thread') >= 0) {
				query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
			}
		}
		document.write('<script type="text/javascript" src="http://disqus.com/forums/doughellmann/get_num_replies.js' + query + '"></' + 'script>');
	})();
//]]>
</script>


</body>
</html>